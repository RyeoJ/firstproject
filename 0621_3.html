<!DOCTYPE html>
<html>
<head>
    <title>자바스크립트 (회원가입)</title>
    <script>
        //이메일 체크 정규식
        function isEmail(asValue)
        {
            var regExp = /^[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*@[0-9a-zA-Z]([-_.]?[0-9a-zA-Z])*\.[a-zA-Z]{2,3}$/i;
            return regExp.test(asValue);
        }
        //핸드폰번호 체크 정규식
        function isCell(asValue)
        {
            var regExp = /^01([0|1|6|7|9])-([0-9]{3,4})-?([0-9]{4})$/;
            return regExp.test(asValue);
        }
        function validate()
        {
            //아이디 패턴
            var idPattern = /^[a-zA-Z0-9-_]{6,20}$/;
            //비밀번호 패턴
            var pwPattern = /^[a-zA-Z0-9~!@#$%^&*()_+|<>?:{}]{6,20}$/;
            //이름 패턴
            var namePattern = /^[a-zA-Z가-힣]*$/; //0회이상반복
            //날짜 패턴
            var datePattern = /^(19|20)\d{2}-(0[1-9]|1[012])-(0[1-9]|[12][0-9]|3[0-1])$/;
                                //년 1999까지   //월 01~09  //일 01~09
                                // 년 2099까지  //월 10~12  //일 10~19 20~29  // 30 31ㄴ



            //아이디 입력체크
            if(document.form1.userid.value.trim() == "")
            {
                alert("아이디를 입력하세요.");
                document.form1.userid.focus();
                return;
            }

            if(!idPattern.test(document.form1.userid.value))
            {
                alert("아이디는 6~20자로 영문 대소문자, 숫자, 특수기호(-,_)만 사용가능합니다.");
                document.form1.userid.value = "";
                document.form1.userid.focus();
                return;
            }
            if(document.form1.pwd1.value.trim() == "")
            {
                alert("비밀번호를 입력하세요.");
                document.form1.pwd1.value = "";
                document.form1.pwd1.focus();
                return;
            }
            if(!pwPattern.test(document.form1.pwd1.value))
            {
                alert("비밀번호는 6~20자 영문 대소문자, 숫자, 특수문자로 사용하세요,");
                document.form1.pwd1.value = "";
                document.form1.pwd1.focus();
                return;
            }

            if(document.form1.pwd2.value.trim() == "")
            {
                alert("비밀번호확인을 입력하세요.");
                document.form1.pwd2.value ="";
                document.form1.pwd2.focus();
                return;
            }

            if(document.form1.pwd1.value != document.form1.pwd2.value)
            {
                alert("비밀번호를 다시한번확인하세요.");
                document.form1.pw1.focus(); 
                return;
            }

            document.form1.pwd.value = document.form1.pwd1.value; 


            if(document.form1.name.value.trim() == "")
            {
                alert("이름을 입력하세요.");
                document.form1.name.focus();
                return;
            }
            if(document.form1.name.value.trim().length < 2 )
            {
                alert("이름은 최소 3글자 이상 입력하세요");
                document.form1.name.focus();
                return;
            }

            if(!namePattern.test(document.form1.name.value.trim()))
            {
                alert("이름은 한글과 영어 대소문자만 가능합니다");
                document.form1.name.focus();
                return;
            }

            if(document.form1.addr.value.trim()=="" || document.form1.addr.value.trim().length <2)
            {
                alert("주소를 입력하세요.");
                document.form1.addr.focus();
                return;
            }
            
            if(document.form1.birthday.value.trim() == "")
            {
                alert("생일을 입력하세요.");
                document.form1.birthday.focus();
                return;
            }

            if(!datePattern.test(document.form1.birthday.value))
            {
                alert("생일의 날짜 형식을 확인하세요.");
                document.form1.birthday.focus();
                return;
            }

            //이메일 주소 체크 isEmail
            if(document.form1.email.value.trim()=="" || document.form1.email.value.trim().length <5)
            {
                alert("이메일 주소를 입력하세요.");
                document.form1.email.focus();
                return;
            }

            if(!isEmail(document.form1.email.value.trim()))
            {
                alert("이메일 주소를 확인하세요.");
                document.form1.email.focus();
                return;
            }

            //핸드폰 번호 체크 isCell
            if(document.form1.phone.value.trim() =="" || document.form1.phone.value.trim().length < 10)
            {
                alert("전화번호를 입력하세요.");
                document.form1.phone.focus();
                return;
            }

            if(!isCell(document.form1.phone.value.trim()))
            {
                alert("전화번호를 확인하세요.");
                document.form1.phone.focus();
                return;
            }
            if(confirm("회원가입을 하시겠습니까?"))
            {
                document.form1.action = "0621_1.html";
                document.form1.submit();
            }
        }
    </script>
</head>
<body>
    <h3>회원가입</h3>
    <form name="form1" method="get" action="0621_1.html">
        아이디(6~20 문자) : 
        <input type="text" id="userid" name="userid" maxlength="20" /><br />
        비밀번호 :
        <input type="password" id="pwd1" name="pwd1" maxlength="20" /><br />
        비밀번호 확인 :
        <input type="password" id="pwd2" name="pwd2" maxlength="20" /><br />
        이름 : 
        <input type="text" id="name" name="name" maxlength="20" /><br />
        주소 :
        <input type="text" id="addr" name="addr" maxlength="20" /><br />
        생일 :
        <input type="date" id="birthday" name="birthday" /><br />
        이메일 :
        <input type="text" id="email" name="email" /><br />
        휴대폰 :
        <input type="text" id="phone" name="phone" /><br />
        <br />
        <input type="button" value="확인" onClick="validate()" />
        &nbsp;
        <input type="reset" value="다시입력" />
        <input type="hidden" name="pwd" id="pwd" value="" />


    </form>
</body>
</html>